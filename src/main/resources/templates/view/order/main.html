<!DOCTYPE html>
<html lang="utf-8" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<div layout:fragment="body" class="body" id="app">
			<div class="container">
				<div class="content-header text-center">
					<h1 class="display-4">ORDER</h1>
					<p>
						<strong>베스킨라빈스의 다양한 상품을 만나보세요</strong>
					</p>
					<hr />
					<div class="row">
						<div class="col-6 thumbnail">
							<!-- produt img -->
								<img
							:src="icecreamImage" 
							class="ice-img-top-detail"
							/>
						<div>
							<img src="/static/img/main/icecream-bottom.png"
								class="ice-img-bottom-detail"
								v-if="product.category == 'icecream' "/>
						</div>
						</div>
						<div class="col-6">
							<div class="row">
								<div class="col-12">
									<!-- product title -->
									<h3>{{product.name}}</h3>
									<!-- product title -->
									<hr />
								</div>
								<div class="col-12">
									<form>
										<table class="table table-bordered text-left">
											<tbody>
												<tr>
													<th>구성</th>
													<!-- product name -->
													<td>{{product.name}}</td>
													<!-- product name -->
												</tr>
												<tr>
													<th>판매가</th>
													<td>
														<!-- product price start --> 
														<span id="product-price"><strong>{{product.discountPrice | currency}}</strong></span> <!-- product price end -->
														<span>원</span> <span>( 정상가</span> <!-- product price start -->
														<span>{{ product.price | currency }}</span> <!-- product price end -->
														<span>원</span> <span>, </span> <!-- before discount price ( product price - discount price) start -->
														<span class="text-danger">{{product.price - product.discountPrice}}</span>
														<!-- before discount price end --> <span
														class="text-danger">원</span> <span><i
															class="fas fa-arrow-down text-danger"></i> )</span>
													</td>
												</tr>
												<tr>
													<th>적립포인트</th>
													<!-- point start -->
													<td><strong>{{product.point | currency}} p</strong></td>
													<!-- point end -->
												</tr>
												<tr>
													<th>수량</th>
													<td>
														<div class="row">
															<div class="col-4">
																<!-- product count -->
																<input type="number" value="1" name="amount"
																	class="form-control" id="count" 
																	min="1"
																	max="100"
																	v-model="order.count"/>
																<!-- product count -->
															</div>
															<div class="col-8 offeset-4">
																<button type="button"
																	class="btn btn-outline-primary btn-sm" id="count-plus"
																	@click="countPlus">
																	<i class="fas fa-plus"></i>
																</button>
																<button type="button"
																	class="btn btn-outline-primary btn-sm" id="count-minus"
																	@click="countMinus">
																	<i class="fas fa-minus"></i>
																</button>
															</div>
														</div>
													</td>
												</tr>
												<tr>
													<th>총상품금액</th>
													<td><span id="product-total-price">{{totalPrice | currency}}</span> <span>원</span></td>
												</tr>
											</tbody>
										</table>
										<hr />
										<div class="col-12 text-left">
											<!-- submit -->
											<button type="button" class="btn btn-primary btn-lg"
											@click.stop="orderAction(product.no)">주문하기</button>
											<button type="button" class="btn btn-secondary btn-lg">장바구니</button>
											<!-- submit -->
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
					<hr />
					<div class="col-12">
						<div class="card">
							<h4 class="card-header font-weight-bolder">상품 정보</h4>
							<div class="card-body list-box">
								<div class="text-center">
									<strong>[제품명]</strong>
								</div>
								<h5 class="card-title text-center">{{product.name}}</h5>
								<div class="text-center">
									<strong>[제품 특징]</strong>
								</div>
								<p class="card-text">
									<span style="color: #E56D29;">{{product.explain}}</span>
								</p>
								<div style="margin-top: 20px;">
									<a href="#" class="btn btn-primary" onclick="history.go(-1);">이전페이지로</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<input type="hidden" th:value="${productNo}" id="productNo" />
		</div>
<th:block layout:fragment="script">
	<script src="/static/js/user/detail.js"></script>
</th:block>
</html>